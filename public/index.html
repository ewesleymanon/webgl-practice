<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Liquid Distortion Effects | Demo 2 | Codrops</title>
		<meta name="description" content="Some liquid distortion effects applied to an image slideshow using canvas, PixiJS and Greensock" />
		<meta name="keywords" content="web development, canvas, distortion, liquid, effect, slideshow, javascript" />
		<meta name="author" content="Yannis Yannakopoulos for Codrops" />
		<style>
			.capture {
				position: absolute;
				top: 0;
				left: 0;
				color: white;
				z-index: 10;
			}
			a {
				display: block;
			}

			main {
				position: relative;
			}

			canvas{
				display: block;
				width: 100%;
				height: 100%;
				mask-image: url(./img/mv-heading.svg);
				-webkit-mask-position: center center;
				mask-position: center center;
				-webkit-mask-repeat: no-repeat;
				mask-repeat: no-repeat;
				mask-size: contain;
			}
		</style>
		<link rel="shortcut icon" href="favicon.ico">
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<!-- <link rel="stylesheet" type="text/css" href="pater/pater.css" /> -->
		<script>document.documentElement.className = 'js';</script>
	</head>
	<body class="demo-2">
		<main class="site-wrapper">
			<img src="./img/gr_bg.png" class="slide-item__image">
		</main>
		<div class="capture">
			<a class="button" href="#" id="start-capturing-button" >Start recording</a>
			<a class="button" href="#" id="download-video-button" >Stop recording and view video</a>
		</div>
		<script src="js/demo.js"></script>
		<script src="js/pixi.min.js"></script>
		<script src="js/TweenMax.min.js"></script>
		<script src="js/CCapture.all.min.js"></script>
		<script src="js/main2.js"></script>
		<!-- <script src="js/imagesloaded.pkgd.min.js"></script> -->
		<script>
			// imagesLoaded(document.body, () => document.body.classList.remove('loading'));

			var spriteImages = document.querySelectorAll( '.slide-item__image' );
			var spriteImagesSrc = [];
			var texts = [];

			for ( var i = 0; i < spriteImages.length; i++ ) {

				var img = spriteImages[i];
					
				// Set the texts you want to display to each slide 
				// in a sibling element of your image and edit accordingly
				if ( img.nextElementSibling ) {
					texts.push(img.nextElementSibling.innerHTML);
				} else {
					texts.push('');
				}

				spriteImagesSrc.push( img.getAttribute('src' ) );
			}

			var initCanvasSlideshow = new CanvasSlideshow({
				sprites: spriteImagesSrc,
				displacementImage: 'img/dmaps/512x512/clouds.jpg',
				autoPlay: true,
				autoPlaySpeed: [0.3, 0.3],
				displaceScale: [800, 500],
				displaceAutoFit: true,
				displacementCenter: true,
				interactive: true,
				interactionEvent: 'click', // 'click', 'hover', 'both' 
			});
		</script>
	</body>
</html>
